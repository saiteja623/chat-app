(this.webpackJsonpawesome=this.webpackJsonpawesome||[]).push([[0],{129:function(e,t){},133:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a.n(s),r=a(8),o=a.n(r),m=a(26),c=a(27),i=a(30),l=a(29),u=a(51),g=a(10),h=a(162),p=a(166),d=a(167),v=a(170),f=a(168),E=(a(57),function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(h.a,{className:"form-paper"},n.a.createElement(p.a,{variant:"h6",gutterBottom:!0},"Chat with random strangers"),n.a.createElement(p.a,{variant:"body2",component:"p",gutterBottom:!0},"Welcome to the Quickchatzz free Chat Roulette.You Must be 13+ to start a random chat with stranger.",n.a.createElement("br",null),"How to chat with strangers safely?",n.a.createElement("br",null),"Don't share your personal information or contacts,don't send any money to strangers.",n.a.createElement("br",null),"Enjoy the Quickchatzz!",n.a.createElement("br",null)),n.a.createElement(d.a,{container:!0,justify:"space-between",alignItems:"center",style:{marginTop:"20px"}},n.a.createElement(d.a,{item:!0,xs:9},n.a.createElement(v.a,{variant:"outlined",label:"Username",size:"small",style:{width:"100%"},onChange:function(t){e.setState({username:t.target.value}),e.props.setUsername(t.target.value)},onKeyDown:function(t){13==t.keyCode&&""!==e.state.username&&0!==e.state.username.indexOf(" ")&&e.props.history.push("/room")}})),n.a.createElement(d.a,{item:!0,xs:3,sm:2},n.a.createElement(f.a,{color:"primary",variant:"contained",size:"small",disabled:""==this.state.username||0===this.state.username.indexOf(" "),onClick:function(){e.props.history.push("/room")}},"start"))))}}]),a}(s.Component)),y=Object(g.e)(E),b=a(79),w=a.n(b),x=a(171),S=a(169),k=a(82),j=a.n(k),O=a(80),C=a.n(O),M=a(81),N=a.n(M),z=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(e){var s;return Object(m.a)(this,a),(s=t.call(this,e)).state={connected:!1,messages:[],src:null,username:"saiteja",activeMsg:"",persons:0,users:[]},s.componentDidUpdate=function(){s.scrollIntoViewmsg(),window.onhashchange=function(){alert("gg")}},s.componentDidMount=function(){s.socket=w()("https://chat-app-using-node.herokuapp.com"),s.socket.on("new-other-user-connected",(function(e){for(var t=0;t<1;t++){var a={name:e,msg:"Joined"},n=s.state.users;n.push(e),console.log(n),s.setState({users:n}),(r=s.state.messages).push(a),s.setState({messages:r});var r,o={name:"Chat bot",msg:"Hello "+e+",Welcome to the saiteja's chat room"};(r=s.state.messages).push(o),s.setState({messages:r}),s.setState({persons:s.state.persons+1})}})),s.socket.on("msg-by-other",(function(e){for(var t=0;t<1;t++){var a={name:e.name,msg:e.message},n=s.state.messages;n.push(a),s.setState({messages:n})}})),s.socket.on("disconnected",(function(e){var t={name:e,msg:"left"},a=s.state.messages;a.push(t),s.setState({messages:a});var n=s.state.users.filter((function(t){return t!=e}));console.log(n),s.setState({users:n}),s.setState({persons:s.state.persons-1})})),s.socket.on("number-of-users",(function(e){var t=Object.keys(e).length;s.setState({persons:t});var a=Object.values(e);s.setState({users:a}),console.log(a)})),s.socket.on("wish-message",(function(e){var t={name:"Chat Bot",msg:"Hello "+e+",Welcome to the saiteja's chat room"},a=s.state.messages;a.push(t),s.setState({messages:a})})),s.socket.on("add-image",(function(e){var t={name:e.name,msg:"image",src:e.image},a=s.state.messages;a.push(t),s.setState({messages:a})})),s.setState({username:s.props.username}),s.submitName()},s.componentWillUnmount=function(){alert("unmounted")},s.scrollIntoViewmsg=function(){s.chatboxRef.current.scrollIntoView({behavior:"smooth"})},s.submitName=function(){var e=s.state.users;e.push(s.props.username),console.log(e),s.setState({users:e});var t=s.state.messages;t.push({name:"You ",msg:"Joined"}),s.setState({messages:t}),s.setState({connected:!0}),s.socket.emit("new-user-connected",s.props.username)},s.sendMessage=function(){if(""!==s.state.activeMsg&&""!==s.state.activeMsg.indexOf(" ")){s.scrollIntoViewmsg();var e={name:"You",msg:s.state.activeMsg},t=s.state.messages;t.push(e),console.log(t),s.setState({messages:t}),s.socket.emit("send-message",s.state.activeMsg),s.setState({activeMsg:""})}},s.handleImage=function(e){var t=new FileReader;t.readAsDataURL(e.target.files[0]),t.onload=function(e){s.setState({src:e.target.result});var t={name:"You",msg:"image",src:e.target.result},a=s.state.messages;a.push(t),s.setState({messages:a}),s.socket.emit("user-image",{name:s.props.username,image:e.target.result})}},s.chatboxRef=n.a.createRef(),s}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(n.a.Fragment,null,n.a.createElement(h.a,{className:"chat-paper",elevation:3},n.a.createElement(d.a,{style:{width:"100%",height:"100%"},direction:"column"},n.a.createElement(d.a,{item:!0,container:!0,className:"chat-nav",xs:12,style:{height:"10%"}},n.a.createElement(d.a,{item:!0,xs:2,sm:1},n.a.createElement(C.a,{size:"small",style:{color:"white",margin:"10px 13px"}})),n.a.createElement(d.a,{item:!0,xs:10,sm:11},n.a.createElement(p.a,{variant:"subtitle1",style:{color:"white",paddingLeft:"10px",paddingTop:"4px"}},"Group Chat"),n.a.createElement(p.a,{variant:"body2",component:"p",style:{color:"white",paddingLeft:"10px"},gutterBottom:!0},1==this.state.persons?"Only you in the chat Room":"You and ".concat(this.state.persons-1," others in the Room")))),n.a.createElement(d.a,{item:!0,xs:12,style:{overflowY:"scroll",overflowX:"hidden",height:"80%"}},this.state.messages.map((function(e,t){return"Joined"==e.msg||"left"==e.msg?n.a.createElement("div",{className:"joined-msg"},e.name," ",e.msg):"image"==e.msg&&"You"==e.name?n.a.createElement("div",{className:"image-by-admin"},n.a.createElement("img",{src:e.src})):"image"==e.msg&&"You"!=e.name?n.a.createElement("div",{className:"image-by-other"},n.a.createElement("div",{className:"sender-name"},n.a.createElement(p.a,{variant:"body2"},e.name)," "),n.a.createElement("img",{src:e.src})):"You"==e.name?n.a.createElement("div",{className:"msg-by-admin"},n.a.createElement(p.a,{variant:"body2"},e.msg)):n.a.createElement("div",{className:"msg-by-other"},n.a.createElement("div",{className:"sender-name"},n.a.createElement(p.a,{variant:"body2"},e.name)," "),n.a.createElement(p.a,{variant:"body2"},e.msg))})),n.a.createElement("div",{style:{width:"100%"},ref:this.chatboxRef})),n.a.createElement(d.a,{item:!0,xs:12,style:{height:"12%",padding:"0px 6px",paddingTop:"10px"},className:"bottom-grid"},n.a.createElement(d.a,{item:!0,container:!0,xs:12,justify:"space-between",alignItems:"center",spacing:2},n.a.createElement(d.a,{item:!0,xs:1},n.a.createElement("label",{htmlFor:"myInput"},n.a.createElement(N.a,{style:{color:"white",cursor:"pointer",marginTop:"4px"},size:"small",className:"camera-icon"})),n.a.createElement("input",{type:"file",style:{display:"none"},id:"myInput",onChange:this.handleImage})),n.a.createElement(d.a,{item:!0,xs:9},n.a.createElement("input",{autoFocus:!0,type:"text",placeholder:"Enter Message..",value:this.state.activeMsg,onChange:function(t){e.setState({activeMsg:t.target.value})},onKeyDown:function(t){13==t.keyCode&&e.sendMessage()}})),n.a.createElement(d.a,{item:!0,xs:2,sm:2},n.a.createElement(x.a,{xsDown:!0},n.a.createElement(f.a,{color:"primary",size:"small",variant:"contained",onClick:this.sendMessage},"Send")),n.a.createElement(x.a,{smUp:!0},n.a.createElement(S.a,{size:"small",color:"primary",style:{width:"35px",height:"20px"},onClick:this.sendMessage},n.a.createElement(j.a,{style:{fontSize:"0.9rem"},color:"white"})))))))))}}]),a}(s.Component),I=function(e){Object(i.a)(a,e);var t=Object(l.a)(a);function a(){var e;Object(m.a)(this,a);for(var s=arguments.length,n=new Array(s),r=0;r<s;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={username:""},e}return Object(c.a)(a,[{key:"render",value:function(){var e=this;return n.a.createElement(u.a,{basename:window.location.pathname||""},n.a.createElement(g.a,{path:"/",exact:!0},n.a.createElement(y,{setUsername:function(t){e.setState({username:t})}})),n.a.createElement(g.a,{path:"/room",exact:!0},n.a.createElement(z,{username:this.state.username})))}}]),a}(s.Component);o.a.render(n.a.createElement(I,null),document.getElementById("root"))},57:function(e,t,a){},91:function(e,t,a){e.exports=a(133)}},[[91,1,2]]]);
//# sourceMappingURL=main.5c800d5c.chunk.js.map