{"version":3,"sources":["chatapp/form.jsx","chatapp/home.jsx","chatapp/router.jsx","index.js"],"names":["Form","state","username","Paper","className","Typography","variant","gutterBottom","component","Grid","container","justify","alignItems","style","marginTop","item","xs","TextField","label","size","width","onChange","e","setState","target","value","props","setUsername","onKeyDown","keyCode","indexOf","history","push","sm","Button","color","disabled","this","onClick","Component","withRouter","Home","connected","messages","src","activeMsg","persons","users","componentDidUpdate","scrollIntoViewmsg","window","onhashchange","alert","componentDidMount","socket","io","on","name","i","o","msg","console","log","k","data","message","otherusers","filter","obj","Object","keys","length","values","image","submitName","componentWillUnmount","emit","chatboxRef","current","scrollIntoView","behavior","sendMessage","handleImage","freader","FileReader","readAsDataURL","files","onload","event","result","React","createRef","elevation","height","direction","margin","paddingLeft","paddingTop","overflowY","overflowX","map","index","ref","padding","spacing","htmlFor","cursor","type","display","id","accept","autoFocus","placeholder","Hidden","xsDown","smUp","Fab","fontSize","Routing","basename","location","pathname","path","exact","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.812a7e99.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport { Paper, TextField, Button, Grid, Typography } from \"@material-ui/core\";\r\nimport \"./css/chat.css\";\r\nimport { withRouter } from \"react-router-dom\";\r\n\r\nclass Form extends Component {\r\n  state = {\r\n    username: \"\",\r\n  };\r\n  render() {\r\n    return (\r\n      <Paper className=\"form-paper\">\r\n        <Typography variant=\"h6\" gutterBottom>\r\n          Chat with random strangers\r\n        </Typography>\r\n        <Typography variant=\"body2\" component=\"p\" gutterBottom>\r\n          Welcome to the Quickchatzz free Chat Roulette.You Must be 13+ to start\r\n          a random chat with stranger.\r\n          <br />\r\n          How to chat with strangers safely?\r\n          <br />\r\n          Don't share your personal information or contacts,don't send any money\r\n          to strangers.\r\n          <br />\r\n          Enjoy the Quickchatzz!\r\n          <br />\r\n        </Typography>\r\n        <Grid\r\n          container\r\n          justify=\"space-between\"\r\n          alignItems=\"center\"\r\n          style={{ marginTop: \"20px\" }}\r\n        >\r\n          <Grid item xs={9}>\r\n            <TextField\r\n              variant=\"outlined\"\r\n              label=\"Username\"\r\n              size=\"small\"\r\n              style={{ width: \"100%\" }}\r\n              onChange={(e) => {\r\n                this.setState({ username: e.target.value });\r\n                this.props.setUsername(e.target.value);\r\n              }}\r\n              onKeyDown={(e) => {\r\n                if (\r\n                  e.keyCode == 13 &&\r\n                  this.state.username !== \"\" &&\r\n                  this.state.username.indexOf(\" \") !== 0\r\n                ) {\r\n                  this.props.history.push(\"/room\");\r\n                }\r\n              }}\r\n            />\r\n          </Grid>\r\n          <Grid item xs={3} sm={2}>\r\n            <Button\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              size=\"small\"\r\n              disabled={\r\n                this.state.username == \"\" ||\r\n                this.state.username.indexOf(\" \") === 0\r\n              }\r\n              onClick={() => {\r\n                this.props.history.push(\"/room\");\r\n              }}\r\n            >\r\n              start\r\n            </Button>\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    );\r\n  }\r\n}\r\n\r\nexport default withRouter(Form);\r\n","import React, { Component } from \"react\";\r\nimport io from \"socket.io-client\";\r\nimport {\r\n  TextField,\r\n  Button,\r\n  Paper,\r\n  Grid,\r\n  Typography,\r\n  Fab,\r\n  Hidden,\r\n} from \"@material-ui/core\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\nimport \"./css/chat.css\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport CameraAltIcon from \"@material-ui/icons/CameraAlt\";\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.chatboxRef = React.createRef();\r\n  }\r\n\r\n  state = {\r\n    connected: false,\r\n    messages: [],\r\n    src: null,\r\n    username: \"saiteja\",\r\n    activeMsg: \"\",\r\n    persons: 0,\r\n    users: [],\r\n  };\r\n  componentDidUpdate = () => {\r\n    this.scrollIntoViewmsg();\r\n    window.onhashchange = () => {\r\n      alert(\"gg\");\r\n    };\r\n  };\r\n\r\n  componentDidMount = () => {\r\n    this.socket = io(\"https://chat-app-using-node.herokuapp.com\"); //https://chat-app-using-node.herokuapp.com\r\n    this.socket.on(\"new-other-user-connected\", (name) => {\r\n      for (var i = 0; i < 1; i++) {\r\n        var o = {\r\n          name: name,\r\n          msg: \"Joined\",\r\n        };\r\n        //update the users list as other user joins\r\n        var users = this.state.users;\r\n        users.push(name);\r\n        console.log(users);\r\n        this.setState({ users });\r\n        //update the message list as other users join\r\n        var messages = this.state.messages;\r\n        messages.push(o);\r\n        this.setState({ messages });\r\n\r\n        //add the wish messages to the messages list\r\n        var k = {\r\n          name: \"Chat bot\",\r\n          msg: \"Hello \" + name + \",Welcome to the saiteja's chat room\",\r\n        };\r\n        var messages = this.state.messages;\r\n        messages.push(k);\r\n        this.setState({ messages });\r\n        this.setState({ persons: this.state.persons + 1 });\r\n      }\r\n    });\r\n\r\n    //update the messages list as other users sends message\r\n    this.socket.on(\"msg-by-other\", (data) => {\r\n      for (var i = 0; i < 1; i++) {\r\n        var o = {\r\n          name: data.name,\r\n          msg: data.message,\r\n        };\r\n\r\n        var messages = this.state.messages;\r\n        messages.push(o);\r\n\r\n        this.setState({ messages });\r\n      }\r\n    });\r\n    //update the messaages list as other users disconnects\r\n    this.socket.on(\"disconnected\", (name) => {\r\n      //show the message when other user has left\r\n      var o = {\r\n        name: name,\r\n        msg: \"left\",\r\n      };\r\n      var messages = this.state.messages;\r\n      messages.push(o);\r\n      this.setState({ messages });\r\n      //remove the user disconnected from the chat\r\n      var users = this.state.users;\r\n      var otherusers = users.filter((e) => e != name);\r\n      console.log(otherusers);\r\n      this.setState({ users: otherusers });\r\n\r\n      this.setState({ persons: this.state.persons - 1 });\r\n    });\r\n    //set the number of users in the chat room\r\n    this.socket.on(\"number-of-users\", (obj) => {\r\n      var persons = Object.keys(obj).length;\r\n      this.setState({ persons });\r\n      var users = Object.values(obj);\r\n      this.setState({ users });\r\n      console.log(users);\r\n    });\r\n    //wish the other  user joined\r\n    this.socket.on(\"wish-message\", (name) => {\r\n      var o = {\r\n        name: \"Chat Bot\",\r\n        msg: \"Hello \" + name + \",Welcome to the saiteja's chat room\",\r\n      };\r\n      var messages = this.state.messages;\r\n      messages.push(o);\r\n      this.setState({ messages });\r\n    });\r\n\r\n    //when other user posts image\r\n    this.socket.on(\"add-image\", (data) => {\r\n      var k = {\r\n        name: data.name,\r\n        msg: \"image\",\r\n        src: data.image,\r\n      };\r\n      var messages = this.state.messages;\r\n      messages.push(k);\r\n      this.setState({ messages });\r\n    });\r\n    this.setState({ username: this.props.username });\r\n    this.submitName();\r\n  };\r\n\r\n  //disconnect user when pushed to back\r\n  componentWillUnmount = () => {\r\n    this.socket.emit(\"disconnected-force\", this.state.username);\r\n  };\r\n\r\n  //scroll last msg into view\r\n  scrollIntoViewmsg = () => {\r\n    this.chatboxRef.current.scrollIntoView({ behavior: \"smooth\" });\r\n  };\r\n\r\n  //submit the name\r\n  submitName = () => {\r\n    var o = {\r\n      name: \"You \",\r\n      msg: \"Joined\",\r\n    };\r\n    //add the user in the list\r\n    var users = this.state.users;\r\n    users.push(this.props.username);\r\n    console.log(users);\r\n    this.setState({ users });\r\n\r\n    //updata the messsages list when user joins\r\n    var messages = this.state.messages;\r\n    messages.push(o);\r\n    this.setState({ messages });\r\n    this.setState({ connected: true });\r\n    //inform other users that a user has joined\r\n    this.socket.emit(\"new-user-connected\", this.props.username);\r\n  };\r\n\r\n  //send the message\r\n  sendMessage = () => {\r\n    if (\r\n      this.state.activeMsg !== \"\" &&\r\n      this.state.activeMsg.indexOf(\" \") !== \"\"\r\n    ) {\r\n      this.scrollIntoViewmsg();\r\n      var o = {\r\n        name: \"You\",\r\n        msg: this.state.activeMsg,\r\n      };\r\n      var messages = this.state.messages;\r\n      messages.push(o);\r\n      console.log(messages);\r\n      this.setState({ messages });\r\n      this.socket.emit(\"send-message\", this.state.activeMsg);\r\n      this.setState({ activeMsg: \"\" });\r\n    }\r\n  };\r\n\r\n  //handle the file changed\r\n  handleImage = (e) => {\r\n    var freader = new FileReader();\r\n    freader.readAsDataURL(e.target.files[0]);\r\n    freader.onload = (event) => {\r\n      this.setState({ src: event.target.result });\r\n      var k = {\r\n        name: \"You\",\r\n        msg: \"image\",\r\n        src: event.target.result,\r\n      };\r\n      var messages = this.state.messages;\r\n      messages.push(k);\r\n      this.setState({ messages });\r\n      this.socket.emit(\"user-image\", {\r\n        name: this.props.username,\r\n        image: event.target.result,\r\n      });\r\n    };\r\n  };\r\n  render() {\r\n    return (\r\n      <>\r\n        <Paper className=\"chat-paper\" elevation={3}>\r\n          <Grid\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"100%\",\r\n            }}\r\n            direction=\"column\"\r\n          >\r\n            <Grid\r\n              item\r\n              container\r\n              className=\"chat-nav\"\r\n              xs={12}\r\n              style={{ height: \"10%\" }}\r\n            >\r\n              <Grid item xs={2} sm={1}>\r\n                <GroupIcon\r\n                  size=\"small\"\r\n                  style={{ color: \"white\", margin: \"10px 13px\" }}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={10} sm={11}>\r\n                <Typography\r\n                  variant=\"subtitle1\"\r\n                  style={{\r\n                    color: \"white\",\r\n                    paddingLeft: \"10px\",\r\n                    paddingTop: \"4px\",\r\n                  }}\r\n                >\r\n                  Group Chat\r\n                </Typography>\r\n                <Typography\r\n                  variant=\"body2\"\r\n                  component=\"p\"\r\n                  style={{ color: \"white\", paddingLeft: \"10px\" }}\r\n                  gutterBottom\r\n                >\r\n                  {this.state.persons == 1\r\n                    ? \"Only you in the chat Room\"\r\n                    : `You and ${this.state.persons - 1} others in the Room`}\r\n                </Typography>\r\n              </Grid>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              style={{\r\n                overflowY: \"scroll\",\r\n                overflowX: \"hidden\",\r\n                height: \"80%\",\r\n              }}\r\n            >\r\n              {this.state.messages.map((e, index) => {\r\n                if (e.msg == \"Joined\" || e.msg == \"left\") {\r\n                  return (\r\n                    <div className=\"joined-msg\">\r\n                      {e.name} {e.msg}\r\n                    </div>\r\n                  );\r\n                } else if (e.msg == \"image\" && e.name == \"You\") {\r\n                  return (\r\n                    <div className=\"image-by-admin\">\r\n                      <img src={e.src} />\r\n                    </div>\r\n                  );\r\n                } else if (e.msg == \"image\" && e.name != \"You\") {\r\n                  return (\r\n                    <div className=\"image-by-other\">\r\n                      <div className=\"sender-name\">\r\n                        <Typography variant=\"body2\">{e.name}</Typography>{\" \"}\r\n                      </div>\r\n                      <img src={e.src} />\r\n                    </div>\r\n                  );\r\n                } else if (e.name == \"You\") {\r\n                  return (\r\n                    <div className=\"msg-by-admin\">\r\n                      <Typography variant=\"body2\">{e.msg}</Typography>\r\n                    </div>\r\n                  );\r\n                } else {\r\n                  return (\r\n                    <div className=\"msg-by-other\">\r\n                      <div className=\"sender-name\">\r\n                        <Typography variant=\"body2\">{e.name}</Typography>{\" \"}\r\n                      </div>\r\n\r\n                      <Typography variant=\"body2\">{e.msg}</Typography>\r\n                    </div>\r\n                  );\r\n                }\r\n              })}\r\n              <div style={{ width: \"100%\" }} ref={this.chatboxRef}></div>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              xs={12}\r\n              style={{ height: \"12%\", padding: \"0px 6px\", paddingTop: \"10px\" }}\r\n              className=\"bottom-grid\"\r\n            >\r\n              <Grid\r\n                item\r\n                container\r\n                xs={12}\r\n                justify=\"space-between\"\r\n                alignItems=\"center\"\r\n                spacing={2}\r\n              >\r\n                <Grid item xs={1}>\r\n                  <label htmlFor=\"myInput\">\r\n                    <CameraAltIcon\r\n                      style={{\r\n                        color: \"white\",\r\n                        cursor: \"pointer\",\r\n                        marginTop: \"4px\",\r\n                      }}\r\n                      size=\"small\"\r\n                      className=\"camera-icon\"\r\n                    />\r\n                  </label>\r\n                  <input\r\n                    type=\"file\"\r\n                    style={{ display: \"none\" }}\r\n                    id=\"myInput\"\r\n                    onChange={this.handleImage}\r\n                    accept=\"image/*\"\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={9}>\r\n                  <input\r\n                    autoFocus\r\n                    type=\"text\"\r\n                    placeholder=\"Enter Message..\"\r\n                    value={this.state.activeMsg}\r\n                    onChange={(e) => {\r\n                      this.setState({ activeMsg: e.target.value });\r\n                    }}\r\n                    onKeyDown={(e) => {\r\n                      if (e.keyCode == 13) {\r\n                        this.sendMessage();\r\n                      }\r\n                    }}\r\n                  />\r\n                </Grid>\r\n                <Grid item xs={2} sm={2}>\r\n                  <Hidden xsDown>\r\n                    <Button\r\n                      color=\"primary\"\r\n                      size=\"small\"\r\n                      variant=\"contained\"\r\n                      onClick={this.sendMessage}\r\n                    >\r\n                      Send\r\n                    </Button>\r\n                  </Hidden>\r\n                  <Hidden smUp>\r\n                    <Fab\r\n                      size=\"small\"\r\n                      color=\"primary\"\r\n                      style={{ width: \"35px\", height: \"20px\" }}\r\n                      onClick={this.sendMessage}\r\n                    >\r\n                      <SendIcon style={{ fontSize: \"0.9rem\" }} color=\"white\" />\r\n                    </Fab>\r\n                  </Hidden>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Paper>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Home;\r\n","import React, { Component } from \"react\";\r\nimport { BrowserRouter as Router, Route } from \"react-router-dom\";\r\nimport Form from \"./form\";\r\nimport Home from \"./home\";\r\n\r\nclass Routing extends Component {\r\n  state = {\r\n    username: \"\",\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <Router basename={window.location.pathname || \"\"}>\r\n        <Route path=\"/\" exact>\r\n          <Form\r\n            setUsername={(username) => {\r\n              this.setState({ username: username });\r\n            }}\r\n          />\r\n        </Route>\r\n        <Route path=\"/room\" exact>\r\n          <Home username={this.state.username} />\r\n        </Route>\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Routing;\r\n","import React, { Component } from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport Routing from \"./chatapp/router\";\r\n\r\nReactDOM.render(<Routing />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}